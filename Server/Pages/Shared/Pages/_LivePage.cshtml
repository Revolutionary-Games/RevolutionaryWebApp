@using System.Globalization
@using Microsoft.Extensions.Configuration
@using RevolutionaryWebApp.Server.Utilities
@model RevolutionaryWebApp.Server.Controllers.Pages.RenderedPage
@inject IConfiguration Configuration
@{
    Layout = "_PageNormalLayout";

    if (Model.ShowHeading)
        ViewData["Title"] = Model.Title;

    ViewData["Renderer"] = Model.ByServer;
    ViewData["Duration"] = Model.RenderTime.TotalMilliseconds.ToString(CultureInfo.InvariantCulture);
    ViewData["GeneratedAt"] = Model.RenderedAt.ToString("yyyy.MM.dd. HH:mm:ss", CultureInfo.InvariantCulture);
    ViewData["UpdatedAt"] = Model.UpdatedAt;

    ViewData["ShowLogo"] = Model.ShowLogo;

    ViewData["Canonical"] = Model.CanonicalUrl;

    ViewData["AssetsBase"] = Configuration.GetCDNPrefixWWW();

    /* TODO: opengraph metadata */
}

<div id="main-outlet" class="markdown">
    @Html.Raw(Model.RenderedHtml)
</div>
